{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\patha\\\\OneDrive\\\\Desktop\\\\Inventra Project\\\\Inventra - Inventory Management System\\\\Inventra---Inventory-Management-System\\\\frontend\\\\src\\\\components\\\\Register.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Register() {\n  _s();\n  const nav = useNavigate();\n  const [user, setUser] = useState({\n    name: \"\",\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n    role: \"STAFF\"\n  });\n  const [otp, setOtp] = useState(\"\");\n  const [otpSent, setOtpSent] = useState(false);\n  const token = localStorage.getItem(\"token\");\n\n  // ================= SEND OTP =================\n  const sendOtp = async () => {\n    if (!user.email) {\n      alert(\"Enter email first\");\n      return;\n    }\n    try {\n      await axios.post(\"http://localhost:8080/api/auth/send-otp\", {\n        email: user.email\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      alert(\"OTP sent (check backend console)\");\n      setOtpSent(true);\n    } catch (err) {\n      alert(\"Failed to send OTP\");\n    }\n  };\n\n  // ================= REGISTER =================\n  const register = async () => {\n    if (user.password !== user.confirmPassword) {\n      alert(\"Passwords do not match\");\n      return;\n    }\n    if (!otp) {\n      alert(\"Enter OTP\");\n      return;\n    }\n    try {\n      await axios.post(`http://localhost:8080/api/auth/register?otp=${otp}`, {\n        name: user.name,\n        username: user.username,\n        email: user.email,\n        password: user.password,\n        role: user.role\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      alert(\"User registered successfully\");\n      nav(\"/inventory\");\n    } catch (err) {\n      alert(\"Registration failed\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form-box\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Register User\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"Full Name\",\n      onChange: e => setUser({\n        ...user,\n        name: e.target.value\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"Username\",\n      autoComplete: \"username\",\n      onChange: e => setUser({\n        ...user,\n        username: e.target.value\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"email\",\n      placeholder: \"Email\",\n      autoComplete: \"email\",\n      onChange: e => setUser({\n        ...user,\n        email: e.target.value\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: user.role,\n      onChange: e => setUser({\n        ...user,\n        role: e.target.value\n      }),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"STAFF\",\n        children: \"Staff\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"ADMIN\",\n        children: \"Admin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"password\",\n      placeholder: \"Password\",\n      autoComplete: \"new-password\",\n      onChange: e => setUser({\n        ...user,\n        password: e.target.value\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"password\",\n      placeholder: \"Confirm Password\",\n      autoComplete: \"new-password\",\n      onChange: e => setUser({\n        ...user,\n        confirmPassword: e.target.value\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this), !otpSent && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-secondary\",\n      onClick: sendOtp,\n      children: \"Send OTP\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }, this), otpSent && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Enter OTP\",\n        onChange: e => setOtp(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: register,\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn\",\n      style: {\n        marginTop: 10\n      },\n      onClick: () => nav(\"/inventory\"),\n      children: \"Back to Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n}\n_s(Register, \"2aFE2URGtRkhe+F1K0dwSPIjF8I=\", false, function () {\n  return [useNavigate];\n});\n_c = Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["useState","axios","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","Register","_s","nav","user","setUser","name","username","email","password","confirmPassword","role","otp","setOtp","otpSent","setOtpSent","token","localStorage","getItem","sendOtp","alert","post","headers","Authorization","err","register","className","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","onChange","e","target","value","autoComplete","type","onClick","style","marginTop","_c","$RefreshReg$"],"sources":["C:/Users/patha/OneDrive/Desktop/Inventra Project/Inventra - Inventory Management System/Inventra---Inventory-Management-System/frontend/src/components/Register.js"],"sourcesContent":["import { useState } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport default function Register() {\n  const nav = useNavigate();\n\n  const [user, setUser] = useState({\n    name: \"\",\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n    role: \"STAFF\"\n  });\n\n  const [otp, setOtp] = useState(\"\");\n  const [otpSent, setOtpSent] = useState(false);\n\n  const token = localStorage.getItem(\"token\");\n\n  // ================= SEND OTP =================\n  const sendOtp = async () => {\n    if (!user.email) {\n      alert(\"Enter email first\");\n      return;\n    }\n\n    try {\n      await axios.post(\n        \"http://localhost:8080/api/auth/send-otp\",\n        { email: user.email },\n        {\n          headers: { Authorization: `Bearer ${token}` }\n        }\n      );\n\n      alert(\"OTP sent (check backend console)\");\n      setOtpSent(true);\n\n    } catch (err) {\n      alert(\"Failed to send OTP\");\n    }\n  };\n\n  // ================= REGISTER =================\n  const register = async () => {\n    if (user.password !== user.confirmPassword) {\n      alert(\"Passwords do not match\");\n      return;\n    }\n\n    if (!otp) {\n      alert(\"Enter OTP\");\n      return;\n    }\n\n    try {\n      await axios.post(\n        `http://localhost:8080/api/auth/register?otp=${otp}`,\n        {\n          name: user.name,\n          username: user.username,\n          email: user.email,\n          password: user.password,\n          role: user.role\n        },\n        {\n          headers: { Authorization: `Bearer ${token}` }\n        }\n      );\n\n      alert(\"User registered successfully\");\n      nav(\"/inventory\");\n\n    } catch (err) {\n      alert(\"Registration failed\");\n    }\n  };\n\n  return (\n    <div className=\"form-box\">\n      <h2>Register User</h2>\n\n      <input\n        placeholder=\"Full Name\"\n        onChange={e => setUser({ ...user, name: e.target.value })}\n      />\n\n      <input\n        placeholder=\"Username\"\n        autoComplete=\"username\"\n        onChange={e => setUser({ ...user, username: e.target.value })}\n      />\n\n      <input\n        type=\"email\"\n        placeholder=\"Email\"\n        autoComplete=\"email\"\n        onChange={e => setUser({ ...user, email: e.target.value })}\n      />\n\n      <select\n        value={user.role}\n        onChange={e => setUser({ ...user, role: e.target.value })}\n      >\n        <option value=\"STAFF\">Staff</option>\n        <option value=\"ADMIN\">Admin</option>\n      </select>\n\n      <input\n        type=\"password\"\n        placeholder=\"Password\"\n        autoComplete=\"new-password\"\n        onChange={e => setUser({ ...user, password: e.target.value })}\n      />\n\n      <input\n        type=\"password\"\n        placeholder=\"Confirm Password\"\n        autoComplete=\"new-password\"\n        onChange={e =>\n          setUser({ ...user, confirmPassword: e.target.value })\n        }\n      />\n\n      {!otpSent && (\n        <button className=\"btn btn-secondary\" onClick={sendOtp}>\n          Send OTP\n        </button>\n      )}\n\n      {otpSent && (\n        <>\n          <input\n            placeholder=\"Enter OTP\"\n            onChange={e => setOtp(e.target.value)}\n          />\n\n          <button className=\"btn btn-primary\" onClick={register}>\n            Register\n          </button>\n        </>\n      )}\n\n      <button\n        className=\"btn\"\n        style={{ marginTop: 10 }}\n        onClick={() => nav(\"/inventory\")}\n      >\n        Back to Dashboard\n      </button>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}